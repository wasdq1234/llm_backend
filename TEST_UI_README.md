# FastAPI 엔드포인트 테스터 🔧

FastAPI 백엔드의 모든 엔드포인트를 간편하게 테스트할 수 있는 Streamlit 기반 웹 UI입니다.

## ✨ 주요 기능

- **간단한 웹 인터페이스**: 브라우저에서 바로 API 테스트
- **모든 엔드포인트 지원**: GET, POST 요청 모두 지원
- **실시간 응답 확인**: 요청/응답을 실시간으로 확인
- **스트림 응답 지원**: 채팅 스트림 응답도 실시간 표시
- **파라미터 입력**: UI를 통해 쉽게 요청 파라미터 설정

## 🚀 빠른 시작

### 1. 의존성 설치
```bash
# UV 사용하는 경우
uv sync

# 또는 pip 사용하는 경우  
pip install streamlit requests
```

### 2. FastAPI 서버 실행
```bash
# 메인 FastAPI 서버 실행
python main.py

# 또는
uvicorn main:app --reload
```

### 3. 테스트 UI 실행
```bash
# 방법 1: 직접 실행
streamlit run test_ui.py

# 방법 2: 스크립트 사용
python run_test_ui.py
```

## 📋 지원하는 엔드포인트

### GET 엔드포인트
- `GET /` - 루트 엔드포인트 (앱 정보)
- `GET /health` - 전체 헬스 체크
- `GET /api/v1/chat/health` - 채팅 서비스 헬스 체크

### POST 엔드포인트
- `POST /api/v1/chat/` - 일반 채팅 요청
- `POST /api/v1/chat/stream` - 스트림 채팅 요청

## 🎯 사용법

1. **서버 설정**: 왼쪽 사이드바에서 FastAPI 서버 URL 설정 (기본: http://localhost:8000)

2. **엔드포인트 선택**: 테스트하고 싶은 엔드포인트를 드롭다운에서 선택

3. **파라미터 입력**: POST 요청의 경우 필요한 파라미터들을 입력
   - 메시지: 채팅에 보낼 텍스트
   - 대화 ID: 기존 대화를 이어가려는 경우
   - 모델: 사용할 AI 모델 지정
   - Temperature: 응답의 창의성 조절 (0.0-2.0)
   - 최대 토큰수: 응답 길이 제한

4. **테스트 실행**: '🚀 테스트 실행' 버튼 클릭

5. **응답 확인**: 오른쪽 패널에서 응답 결과 확인
   - 상태 코드
   - 응답 헤더
   - 응답 본문 (JSON 형식으로 표시)
   - 스트림 응답의 경우 실시간 내용 표시

## 🔧 기술 스택

- **Streamlit**: 웹 UI 프레임워크
- **Requests**: HTTP 클라이언트
- **JSON**: 데이터 직렬화

## 📝 참고사항

- FastAPI 서버가 먼저 실행되어 있어야 합니다
- 기본적으로 `http://localhost:8000`에서 실행되는 FastAPI 서버를 대상으로 합니다
- 스트림 응답의 경우 실시간으로 내용이 업데이트됩니다
- CORS 설정이 올바르게 되어 있어야 브라우저에서 API 호출이 가능합니다

## 🐛 문제 해결

**Q: "Connection refused" 오류가 발생해요**
A: FastAPI 서버가 실행 중인지 확인하고, URL이 올바른지 확인하세요.

**Q: 스트림 응답이 보이지 않아요**
A: 네트워크 연결 상태를 확인하고, 서버 로그에서 오류가 있는지 확인하세요.

**Q: JSON 파싱 오류가 발생해요**
A: 서버 응답이 올바른 JSON 형식인지 확인하고, 서버 로그를 확인하세요. 